---
# see the best practices in ansible docs for how to get started with creating roles etc.:
# https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html

- hosts: localhost

  tasks:
    - name: Set host_key_checking to false
      become: yes
      lineinfile:
        path: /etc/ansible/ansible.cfg
        regexp: '^#host_key_checking ='
        line: host_key_checking = false

- hosts: monitor
  vars_files:
      - creds.yml
  roles:
    - monitor
  # tasks:
  #   - name: Set env for checkbox and iTrust hosts
  #     debug:
  #       var: groups

- hosts: checkbox, itrust
  vars_files:
      - creds.yml
  roles:
    - agent
  # tasks:
  #   - name: Set env for checkbox and iTrust hosts
  #     debug:
  #       var: group_names

